#include <iostream>//подключение библиотеки функции ввода-вывода
#include <cmath>//подключение математической библиотеки 
#include <vector>;
using namespace std; //подключение пространства имён std

/*
*\brief Математическая функция, заменяющий первый отрицательный элемент массива нулем
* \ std::vector<int> &mas - целочисленный вектор
* \ const int n - переменная, имеющая целочисленный тип данных
*/

void task1 (std::vector<int> &mas, int n);

/*
*\brief Математическая функция, вставляющая число К после всех элементов, кратных своему номеру
* \ std::vector<int> &mas - целочисленный вектор
* \ const int n - переменная, имеющая целочисленный тип данных
* * \ int k - переменная, имеющая целочисленный тип данных
*/


void task2 (std::vector<int> &mas, int n, int k);

/*
*\brief Математическая функция, формирующая новый вектор по заданным условиям
* \ std::vector<int> &mas - целочисленный вектор
*/

void task3(std::vector<int>  &mas);


/*
 * \brief Точка входа в программу.
 * \return Возвращает 0 в случае успешного выполнения.
 */

int main( )
{
    setlocale(LC_ALL, "Russian");
    int  k,a;
    unsigned int n = 10;
    vector<int> mas(n);
    cout << "Как ввести массив? " << endl << "1-вручную, 2- рандомно. Ваш выбор: ";
    while (!(cin >> a) || (cin.peek() != '\n') || (a != double(a)) || (a <= 0) || (a > 2))
    {
        cin.clear();
        while (cin.get() != '\n');
        cout << "Введите число 1 или 2\n ";
    }
    cout << "Введите, число K для вставки ";
    while (!(cin >> k) || (cin.peek() != '\n') || (a != double(a)))
    {
        cin.clear();
        while (cin.get() != '\n');
        cout << "Введите целое число\n ";
    }
    if (a == 1)
    {
        for (int i = 0; i < n; i++)
        {
            cout << "Введите элемент, интервал значений [-100:100] ";
            while (!(cin >> mas.at(i) || (cin.peek() != '\n') || (mas.at(i)>= 100) || (mas.at(i) <= -100) || (mas.at(i) != double(mas.at(i)))))
            {
                cin.clear();
                while (cin.get() != '\n');
                cout << "Введите целое число в интервале [-100:100] \n ";
            }
        }
        for (int i = 0; i < n; i++)
        {
            cout << mas.at(i) << " ";
        }
        cout << endl;
    }
    else if (a == 2)
    {
        for (int i = 0; i < n; i++)
        {
            mas.at(i) = int((rand() % 201) - 100);
        }
        cout << "Ваш массив: " << endl;
        for (int i = 0; i < n; i++)
        {
            cout << mas.at(i) << " ";
        }
        cout << endl;
    }
    task1(mas, n);
    task2(mas,n,k);
    task3(mas);
    return 0;
}

void task1 (std::vector<int>  &mas, int n)
{
    for (size_t i = 0; i < mas.size(); i++)
        if (mas[i] < 0) {mas.at(i) = 0; i = n; }
    cout << "1.Заменить первый отрицательный элемент массива нулем: "<<endl;
    std::copy(mas.begin(), mas.end(), std::ostream_iterator<int>(std::cout, " "));
    std::cout << std::endl;
}
void task2(std::vector<int> &mas, int n, int k)
{
    for (size_t i = 1; i <n; i++)
        if (mas[i] % i == 0) { i++; mas.insert(mas.begin() + i, k); }
    cout << "2.Вставить число К после всех элементов, кратных своему номеру:"<<endl ;
    std::copy(mas.begin(), mas.end(), std::ostream_iterator<int>(std::cout, " "));
    std::cout << std::endl;
}
void task3(std::vector<int>  &mas)
{
    std::vector<int> D = mas;
    for (size_t i = 0; i < D.size(); i++)
        if (i % 2 == 0) { D[i] = (i - 1) * D[i]; }
        else { D[i] = D[i] * i * 2; }
    cout << "3.Из элементов массива D сформировать массив A той же размерности по правилу: если номер четный, то значение элемента находится по формуле Ai = (i-1)*Di, а если нечетный, то по формуле Ai = Di*i*2: "<<endl;
    std::copy(D.begin(), D.end(), std::ostream_iterator<int>(std::cout, " "));
    std::cout << std::endl;
}
